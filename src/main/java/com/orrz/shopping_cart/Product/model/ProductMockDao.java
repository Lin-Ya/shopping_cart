package com.orrz.shopping_cart.Product.model;import org.springframework.stereotype.Component;import java.util.ArrayList;import java.util.HashMap;import java.util.List;/** * @Author: Lin_Ya * @Date: 2019-01-31-09:15 * @Version: 1.0 * @Description: 模拟产品Dao接入类 *///@Component("ProductDao")public class ProductMockDao implements ProductDao {    HashMap<Long, Product> products = new HashMap<>();    public ProductMockDao() {        Product book = new Product("book", "This is a book", 1.2);        Product apple = new Product("apple", "This is an apple", 2.2);        book.setId(1L);        apple.setId(2L);        products.put(1L, book);        products.put(2L, apple);    }    /**     * 存储商品     *     * @param product     * @return product     */    @Override    public Product save(Product product) {        // 判断有没有id，true => 新建Product        if (product.getId() < 1L) {            long id = (long) (products.size() + 1);            while (products.containsKey(id)) {                id = id + 1L;            }            product.setId(id);            products.put(id, product);            return products.get(id);        } else {            products.put(product.getId(), product);            return products.get(product.getId());        }    }    /**     * 删除商品     *     * @param id     * @return 成功/失败-> true/false     */    @Override    public Boolean delete(long id) {        if (products.containsKey(id)) {            products.remove(id);            return true;        } else {            return false;        }    }    /**     * 根据 id 获取单个商品     *     * @param id     * @return product     */    @Override    public Product getById(long id) {        if (products.containsKey(id)) {            return products.get(id);        } else {            return null;        }    }    /**     * 获取全部商品     *     * @return ArrayList     */    @Override    public List<Product> findAll() {        return new ArrayList<>(products.values());    }}